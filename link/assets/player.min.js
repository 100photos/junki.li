var duration,status="pause",music=document.getElementsByClassName("music")[0],playB=document.getElementsByClassName("play")[0],pauseB=document.getElementsByClassName("pause")[0];function ending(){200>=1e3*(music.duration-music.currentTime)&&"play"==status&&(console.log(1e3*(music.duration-music.currentTime)),play(),setTimeout(function(){music.currentTime=0},100))}music.addEventListener("canplaythrough",function(){duration=music.duration},!1);function play(a=null){null!=a&&(music=a.getElementsByClassName("music")[0],playB=a.getElementsByClassName("play")[0],pauseB=a.getElementsByClassName("pause")[0]),music.paused?(fadeIn(music),status="play",pauseB.className="pause",playB.className="play disabled"):(fadeOut(music),status="pause",playB.className="play",pauseB.className="pause disabled")}function fadeOut(a){if("play"!=status)return!1;var b=a.volume,c=setInterval(function(){b=(parseFloat(b)-.1).toFixed(1),0<=b&&1>=b?a.volume=b:(a.pause(),status="pause",clearInterval(c))},25)}function fadeIn(a){if("play"==status)return!1;var b=0;a.play(),status="play";var c=setInterval(function(){b=(parseFloat(b)+.1).toFixed(1),0<=b&&1>=b?a.volume=b:(a.play(),status="play",clearInterval(c))},25)}